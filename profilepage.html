<!DOCTYPE html>
<html>
  <head>
    <title>iType</title>
    <link rel="stylesheet" type="text/css" href="css/stylesheet.css">
  </head>

  <body>
    <div id="navbar">
      <div id="logo" unselectable="on" onselectstart="return false;" onmousedown="return false;">
        <a href="index.php"> <img src="images/logo.png" class="resizeLogo"> </a>
      </div>

      <a class="relative5" href="index.php">Home</a>
      <a class="relative3" href="compete.php">Compete</a>
      <a class="relative4" href="gamepage.php">Practise</a>
      <a class="relative2" href="php/logout.php">LOGOUT</a>
      <br>
      <br>
    </div>
    <br>

    <div class="pagePadding"></div>
    <br>

    <div id="pageAlignment" class="pageAlignment">
      <br>

      <div id="pageContent" class="pageContent">
        <br>
        <br>

        <a href ="uploadImage.html">
          <img class="profilephoto" src="profilephoto.png"/>
        </a>
        <br>
        
        <div id="profileinfo">
          FULL NAME: <?php echo $_SESSION['name'];?>
          <br>
          USERNAME: <?php echo $_SESSION['username'];?>
          <br>
          EMAIL: <?php echo $_SESSION['email'];?>
        </div>
        
        <div id="graph">
          <canvas id="myCanvas" width="900" height="400">

          <script>
            var performanceArray;
            var xmlhttp = new XMLHttpRequest();
            var address = "php/history.php";
            xmlhttp.open("GET", address, false);
            xmlhttp.send();

            if (xmlhttp.readyState == 4 && xmlhttp.status == 200)
            {
              performanceArray = xmlhttp.responseText.split(";");
            } // if
      
            var history_Array0 = performanceArray[0];
            var history_Array1 = performanceArray[1];
            var history_Array2 = performanceArray[2];
            var history_Array3 = performanceArray[3];
            var history_Array4 = performanceArray[4];
            var history_Array5 = performanceArray[5];
            var history_Array6 = performanceArray[6];
            var history_Array7 = performanceArray[7];
            var history_Array8 = performanceArray[8];
            var history_Array9 = performanceArray[9];
      
            var height_factor = 900 / 600;
            var length_factor = 400 / 170;
            var c = document.getElementById("myCanvas");
            var ctx = c.getContext("2d");
            ctx.beginPath();

            ctx.fillStyle = "red";
            ctx.font = "30px Arial";

            ctx.moveTo(height_factor * 20, length_factor * 80);
            ctx.lineTo(height_factor * 70, length_factor * 80);
            ctx.lineTo(height_factor * 70, length_factor * 50);
            ctx.arc(height_factor * 70, (length_factor * 30) - 10, 30, 0.5 * Math.PI, 2.5 * Math.PI);

            ctx.fillText(history_Array0, height_factor * 70 - 15, (length_factor * 30));

            ctx.lineTo(height_factor * 70, length_factor * 80);
            ctx.lineTo(height_factor * 120, length_factor * 80);
            ctx.lineTo(height_factor * 120, length_factor * 110);
            ctx.arc(height_factor * 120, (length_factor * 140) + 10, 30, 1.5 * Math.PI, 3.5 * Math.PI);

            ctx.fillText(history_Array1, height_factor * 120 - 15, (length_factor * 140) + 20);

            ctx.lineTo(height_factor * 120, length_factor * 80);
            ctx.lineTo(height_factor * 170, length_factor * 80);
            ctx.lineTo(height_factor * 170, length_factor * 50);
            ctx.arc(height_factor * 170, (length_factor * 30) - 10, 30, 0.5*Math.PI, 2.5*Math.PI);

            ctx.fillText(history_Array2, height_factor * 170 - 15, (length_factor * 30));

            ctx.lineTo(height_factor * 170, length_factor * 80);
            ctx.lineTo(height_factor * 220, length_factor * 80);
            ctx.lineTo(height_factor * 220, length_factor * 110);
            ctx.arc(height_factor * 220, (length_factor * 140) + 10, 30, 1.5 * Math.PI, 3.5 * Math.PI);

            ctx.fillText(history_Array3, height_factor * 220 - 15, (length_factor * 140) + 20);

            ctx.moveTo(height_factor * 220, length_factor * 80);
            ctx.lineTo(height_factor * 270, length_factor * 80);
            ctx.lineTo(height_factor * 270, length_factor * 50);
            ctx.arc(height_factor * 270, (length_factor * 30) - 10, 30, 0.5 * Math.PI, 2.5 * Math.PI);

            ctx.fillText(history_Array4, height_factor * 270 - 15, (length_factor * 30));

            ctx.lineTo(height_factor * 270, length_factor * 80);
            ctx.lineTo(height_factor * 320, length_factor * 80);
            ctx.lineTo(height_factor * 320, length_factor * 110);
            ctx.arc(height_factor * 320, (length_factor * 140) + 10, 30, 1.5 * Math.PI, 3.5 * Math.PI);

            ctx.fillText(history_Array5, height_factor *320 - 15, (length_factor * 140) + 20);

            ctx.lineTo(height_factor * 320, length_factor * 80);
            ctx.lineTo(height_factor * 370, length_factor * 80);
            ctx.lineTo(height_factor * 370, length_factor * 50);
            ctx.arc(height_factor * 370, (length_factor * 30) - 10, 30, 0.5 * Math.PI, 2.5 * Math.PI);

            ctx.fillText(history_Array6, height_factor * 370 - 15, (length_factor * 30));

            ctx.lineTo(height_factor * 370, length_factor * 80);
            ctx.lineTo(height_factor * 420, length_factor * 80);
            ctx.lineTo(height_factor * 420, length_factor * 110);
            ctx.arc(height_factor * 420, (length_factor * 140) + 10, 30, 1.5 * Math.PI, 3.5 * Math.PI);

            ctx.fillText(history_Array7, height_factor * 420 - 15, (length_factor * 140) + 20);

            ctx.moveTo(height_factor * 420, length_factor * 80);
            ctx.lineTo(height_factor * 470, length_factor * 80);
            ctx.lineTo(height_factor * 470, length_factor * 50);
            ctx.arc(height_factor * 470, (length_factor * 30) - 10, 30, 0.5 * Math.PI, 2.5 * Math.PI);

            ctx.fillText(history_Array8, height_factor * 470 - 15, (length_factor * 30));

            ctx.lineTo(height_factor * 470, length_factor * 80);
            ctx.lineTo(height_factor * 520, length_factor * 80);
            ctx.lineTo(height_factor * 520, length_factor * 110);
            ctx.arc(height_factor * 520, (length_factor * 140) + 10, 30, 1.5 * Math.PI, 3.5 * Math.PI);

            ctx.fillText(history_Array9, height_factor * 520 - 15, (length_factor * 140) + 20);

            ctx.lineTo(height_factor * 520, length_factor * 80);
            ctx.lineTo(height_factor * 570, length_factor * 80);
            ctx.strokeStyle = '#FFFFFF';
            ctx.lineWidth = 3.5;

            ctx.stroke();
          </script>
        </div>
      </div>
    </div>
    <br>
    <br>
  </body>
</html>